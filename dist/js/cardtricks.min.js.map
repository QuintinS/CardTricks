{"version":3,"sources":["base.js"],"names":["$","window","document","undefined","widget","storage","defaults","options","deal","dealOptions","cardDelay","direction","animOptions","velocity","ease","messy","messyMult","rotation","_create","this","element","addClass","_trigger","event","_init","dealClass","easeClass","duration","children","css","_animate","stack","find","attr","type","noise","Math","random","_messyAmplitude","cards","get","reverse","_messy","animation","_dealCardDelay","mode","_dealDirection","_animRotation","_totalCards","length","fidget","transformOriginX","transformOriginY","transform","transform-origin","flick","cardsToAnimate","last","each","index","card","delay","queue","next","_setOption","key","value","Widget","prototype","apply","arguments","destroy","call","jQuery"],"mappings":"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","file":"cardtricks.min.js","sourcesContent":["/**\n *  CARD TRICKS\n * *\n *  Play the cards like a master with this simple library.\n * *\n *  @author      Quintin Schnehage\n *  @copyright   Copyright (c) 2016\n *  @license     Reserved\n *  @since       Version 1.0\n *\n */\n\n;(function ( $, window, document, undefined ) {\n\n    $.widget( \"cardtricks.cardtricks\" , {\n\n        storage: {\n\n        },\n\n        defaults: {\n\n        },\n\n        options: {\n            deal: \"fidget\", // \"scatter\" | \"spreadLeftRight\" | \"spreadRightLeft\",\n            dealOptions: {\n              cardDelay: 0, // The delay between one card being animated and nother, in ms\n              direction: \"up\",\n            },\n            animOptions: {\n              velocity: \"fast\",\n              ease: \"easeOut\",\n              messy: true, // true | false - Adds a bit of randomness for a natural feel.\n              messyMult: 1, // Number - adjust randomness\n              rotation: 10,\n            },\n        },\n\n        //Setup widget (eg. element creation, apply theming\n        // , bind events etc.)\n        _create: function () {\n\n            // _create will automatically run the first time\n            // this widget is called. Put the initial widget\n            // setup code here, then you can access the element\n            // on which the widget was called via this.element.\n            // The options defined above can be accessed\n            // via this.options this.element.addStuff();\n\n            this.defaults = this.options;\n            this.options.element = this.element;\n\n            this.element.addClass(\"cardtricks-cards\");\n\n            this._trigger('cardtricks.create.complete', event);\n\n        },\n\n        _init: function(){\n\n          // this.options = $.extend(true, this.defaults, this.options);\n\n          var dealClass;\n          var velocityClass;\n          var easeClass;\n\n          switch(this.options.deal){\n            case \"flick\":\n              dealClass = \"cardtricks-deal--flick\";\n              break;\n            case \"scatter\":\n              dealClass = \"cardtricks-deal--scatter\";\n              break;\n            case \"fan\":\n              dealClass = \"cardtricks-deal--fan\";\n              break;\n            default:\n              dealClass = \"cardtricks-deal--fidget\";\n              break;\n          }\n\n          switch(this.options.animOptions.velocity){\n            case \"fastest\":\n              velocityClass = \"cardtricks-velocity--fastest\";\n              this.storage.duration = 0.1;\n              break;\n            case \"fast\":\n              velocityClass = \"cardtricks-velocity--fast\";\n              this.storage.duration = 0.25;\n              break;\n            case \"medium\":\n              velocityClass = \"cardtricks-velocity--medium\";\n              this.storage.duration = 0.5;\n              break;\n            case \"slow\":\n              velocityClass = \"cardtricks-velocity--slow\";\n              this.storage.duration = 0.75;\n              break;\n            case \"slowest\":\n              velocityClass = \"cardtricks-velocity--slowest\";\n              this.storage.duration = 1;\n              break;\n            default:\n              velocityClass = \"cardtricks-velocity--fast\";\n              break;\n          }\n\n          switch(this.options.animOptions.ease){\n            case \"easeInOut\":\n              easeClass = \"cardtricks-easeInOut\";\n              break;\n            case \"easeIn\":\n              easeClass = \"cardtricks-easeIn\";\n              break;\n            case \"easeOut\":\n              easeClass = \"cardtricks-easeOut\";\n              break;\n            default:\n              easeClass = \"cardtricks-easeOut\";\n              break;\n          }\n\n          $(this.element.children())\n            .css(\"transition-duration\", this.storage.duration + \"s\");\n\n          this.element\n            .addClass(easeClass + \" \" + dealClass);\n\n          this._trigger('cardtricks.init.complete', event);\n\n          this._animate();\n\n        },\n\n        stack: function ( event ) {\n\n            // Return all the cards to their original position.\n\n            this.options.element.find(\".cardtricks-cards__card\").attr(\"style\", \"\");\n\n            this._trigger('cardtricks.stack.complete', event);\n        },\n\n        /*  ===== Private Methods ===== */\n\n        _animate: function (type, options) {\n\n          // Animate the cards.\n\n          // All the cards. Must be reversed because position: absolute stacks cards in reverse.\n          var cards;\n\n          if (this.options.dealOptions.cards == \"allExceptLast\") {\n            cards = $(this.element.find(\".cardtricks-cards__card:not(:first-child)\").get().reverse());\n          }\n          else {\n            cards = $(this.element.find(\".cardtricks-cards__card\").get().reverse());\n          }\n\n          var _dealMode = this.options.dealOptions.mode;\n          var _dealCardDelay = this.options.dealOptions.cardDelay;\n          var _dealDirection = this.options.dealOptions.direction;\n          var _animRotation = this.options.animOptions.rotation;\n          var _animDuration = this.options.animOptions.duration;\n          var _animEase = this.options.animOptions.ease;\n          var _messy;\n          var _messyAmplitude = this.options.animOptions.messyMult;\n          var _totalCards = cards.length;\n\n          var animation;\n\n          if (typeof this.options.animOptions === \"object\") {\n            _messy = this.options.animOptions.messy === true ? true : false;\n          }\n\n          var fidget = function(){\n\n            var rotation;\n            var animation;\n\n            var transformOriginX = 50 - (50 * noise()) + \"%\";\n            var transformOriginY = 50 - (50 * noise()) + \"%\";\n\n            if (_messy) {\n              rotation = _animRotation * noise();\n            }\n\n            animation = {\n              \"transform\": \"rotate(\" + rotation + \"deg)\",\n              \"transform-origin\": transformOriginX + \" \" + transformOriginY\n            };\n\n            return animation;\n\n          };\n\n          var flick = function(){\n\n            var rotation;\n            var animation = {};\n\n            var transformOriginX = 50 - (50 * noise()) + \"%\";\n            var transformOriginY = 50 - (50 * noise()) + \"%\";\n\n            if (_messy) {\n              rotation = _animRotation * noise();\n            }\n\n            animation[\"transform\"] = \"rotate(\" + rotation + \"deg)\";\n            animation[\"transform-origin\"] = transformOriginX + \" \" + transformOriginY;\n\n            switch(_dealDirection){\n              case\"up\":\n                animation[\"top\"] = \"-200%\";\n                break;\n              case\"down\":\n                animation[\"bottom\"] = \"-200%\";\n                break;\n              case\"left\":\n                animation[\"left\"] = \"-200%\";\n                break;\n              case\"right\":\n                animation[\"right\"] = \"-200%\";\n                break;\n            }\n\n            return animation;\n\n          };\n\n          function animate(){\n\n            var cardsToAnimate = _totalCards;\n            var last = false;\n\n            cards.each(function(index, card){\n\n              if ((cardsToAnimate - 1) === index) {\n                last = true;\n              }\n\n              // console.log(cardsToAnimate - 1);\n              // console.log(index);\n              // console.log(last);\n\n              $(card)\n              .delay(_dealCardDelay * index)\n              .queue(function(next){\n\n                $(this).css(animation());\n                next();\n\n              });\n\n\n            });\n\n          }\n\n          // Loop through all cards, animating them.\n\n          switch(this.options.deal) {\n            case \"fidget\":\n              animation = fidget;\n              break;\n            case \"flick\":\n              animation = flick;\n              break;\n            default:\n              animation = fidget;\n              break;\n          }\n\n          animate();\n\n          // A little noise function for injecting some randomness.\n          function noise(){\n            return (Math.random() - 0.5) * _messyAmplitude;\n          }\n\n        },\n\n        // Respond to any changes the user makes to the\n        // option method\n        _setOption: function ( key, value ) {\n            switch (key) {\n            case \"someValue\":\n                //this.options.someValue = doSomethingWith( value );\n                break;\n            default:\n                //this.options[ key ] = value;\n                break;\n            }\n\n            // For UI 1.8, _setOption must be manually invoked\n            // from the base widget\n            $.Widget.prototype._setOption.apply( this, arguments );\n            // For UI 1.9 the _super method can be used instead\n            // this._super( \"_setOption\", key, value );\n        },\n\n        // Destroy an instantiated plugin and clean up\n        // modifications the widget has made to the DOM\n        destroy: function () {\n\n            // this.element.removeStuff();\n            // For UI 1.8, destroy must be invoked from the\n            // base widget\n            $.Widget.prototype.destroy.call(this);\n            // For UI 1.9, define _destroy instead and don't\n            // worry about\n            // calling the base widget\n        },\n\n    });\n\n})( jQuery, window, document );\n"]}